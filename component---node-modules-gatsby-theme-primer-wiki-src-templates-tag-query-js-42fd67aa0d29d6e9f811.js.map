{"version":3,"file":"component---node-modules-gatsby-theme-primer-wiki-src-templates-tag-query-js-42fd67aa0d29d6e9f811.js","mappings":"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","sources":["webpack://wiki/./node_modules/gatsby-theme-primer-wiki/src/components/tag-posts.js","webpack://wiki/./node_modules/gatsby-theme-primer-wiki/src/templates/tag-query.js","webpack://wiki/./node_modules/gatsby-theme-primer-wiki/src/components/tag-page.js","webpack://wiki/./node_modules/gatsby-theme-primer-wiki/src/utils/sidebar-items.js","webpack://wiki/./node_modules/gatsby-theme-primer-wiki/src/components/sidebar.js","webpack://wiki/./node_modules/@microsoft/clarity/index.js","webpack://wiki/./node_modules/@microsoft/clarity/src/utils.js","webpack://wiki/./src/gatsby-theme-primer-wiki/components/layout.js"],"sourcesContent":["import React from \"react\";\nimport components from \"./mdx-components\";\nimport { Box, Text } from \"@primer/components\";\nimport useThemeConfig from \"../use-theme-config\";\n\nconst TagPosts = ({\n  nodes,\n  shouldShowInstantView = false,\n  forceMobile = false,\n}) => {\n  const themeConfig = useThemeConfig();\n  const posts = nodes;\n  const AnchorTag = (props) => (\n    <components.a {...props} references={shouldShowInstantView ? posts : []} />\n  );\n  return (\n    <Box>\n      <components.ul>\n        {posts &&\n          posts\n            .filter(\n              (post) =>\n                post.fields.slug !== \"/404/\" &&\n                (!post.frontmatter || post.frontmatter.draft !== true)\n            )\n            .map((post) => {\n              return (\n                <li key={post.fields.slug}>\n                  <AnchorTag href={post.fields.slug}>\n                    {post.fields.title}\n                  </AnchorTag>\n                  {themeConfig.shouldShowLastUpdated &&\n                    post.fields.lastUpdated &&\n                    !forceMobile && (\n                      <Text\n                        display={[\"none\", null, null, \"inline-block\"]}\n                        color=\"text.placeholder\"\n                        fontSize={1}\n                      >\n                        &nbsp; - {themeConfig.lastUpdatedText}&nbsp;\n                        {post.fields.lastUpdated}\n                      </Text>\n                    )}\n                  {themeConfig.shouldShowLastUpdated &&\n                    post.fields.lastUpdated && (\n                      <Box\n                        display={\n                          forceMobile ? \"block\" : [\"block\", null, null, \"none\"]\n                        }\n                        color=\"text.placeholder\"\n                        fontSize={1}\n                        mb={2}\n                        mt={1}\n                      >\n                        {themeConfig.lastUpdatedText}&nbsp;\n                        {post.fields.lastUpdated}\n                      </Box>\n                    )}\n                </li>\n              );\n            })}\n      </components.ul>\n    </Box>\n  );\n};\nexport default TagPosts;\n","import { graphql } from \"gatsby\";\nimport TagPage from \"../components/tag-page\";\n\nexport default TagPage;\n\nexport const query = graphql`\n  query tagQuery($tag: String) {\n    site {\n      pathPrefix\n      siteMetadata {\n        siteUrl\n      }\n    }\n    allMdx(filter: { frontmatter: { tags: { eq: $tag } } }) {\n      nodes {\n        frontmatter {\n          title\n          draft\n        }\n        body\n        fields {\n          slug\n          title\n          lastUpdated\n          lastUpdatedAt\n          gitCreatedAt\n        }\n      }\n    }\n  }\n`;\n","import React from \"react\";\nimport Layout from \"./layout\";\nimport SEO from \"./seo\";\nimport { Box } from \"@primer/components\";\nimport urlJoin from \"url-join\";\nimport TagPosts from \"./tag-posts\";\nimport components from \"./mdx-components\";\n\nconst Tag = ({ data, pageContext, location }) => {\n  const pathPrefix = data.site.pathPrefix || \"\";\n  const slug = pageContext.slug;\n  const fullPath = urlJoin(pathPrefix || \"/\", slug);\n  const siteUrl = data.site.siteMetadata.siteUrl;\n  const fullUrl = urlJoin(siteUrl, fullPath);\n  const posts = data.allMdx.nodes.sort((a, b) => {\n    const aDate = new Date(a.fields.lastUpdatedAt || 0).getTime();\n    const bDate = new Date(b.fields.lastUpdatedAt || 0).getTime();\n    return bDate - aDate;\n  });\n  let firstPublistedAt = null;\n  let dateModified = null;\n  if (posts.length > 0) {\n    if (posts[posts.length - 1].fields.gitCreatedAt) {\n      firstPublistedAt = new Date(posts[posts.length - 1].fields.gitCreatedAt);\n    }\n    if (posts[0].fields.lastUpdatedAt) {\n      dateModified = new Date(posts[0].fields.lastUpdatedAt);\n    }\n  }\n  const tag = pageContext.tag;\n  const title = `#${tag}`;\n  const palinBody = posts.map((post) => post.fields.title).join(\", \");\n  const description = `All posts about #${tag}, ${palinBody.slice(0, 256)}`;\n  const postSeoData = {\n    title,\n    frontmatterTitle: \"\",\n    description,\n    rawBody: palinBody,\n    excerpt: description,\n    datePublished: firstPublistedAt,\n    dateModified: dateModified,\n    category: tag,\n    imageUrl: null,\n    imageAlt: \"\",\n    url: fullUrl,\n    slug: slug,\n    tags: [tag],\n  };\n  return (\n    <Layout pageContext={pageContext} location={location}>\n      <SEO post={postSeoData}></SEO>\n      <Box py=\"2\" px={[4, 5, 6, 7]}>\n        <components.h2># {tag}</components.h2>\n        <TagPosts\n          nodes={data.allMdx.nodes}\n          tag={tag}\n          shouldShowInstantView\n        ></TagPosts>\n      </Box>\n    </Layout>\n  );\n};\nexport default Tag;\n","export const getSidebarItems = (sidebarItems, tagsGroups) => {\n  return sidebarItems.length > 0\n    ? sidebarItems\n    : tagsGroups.length > 0\n    ? [\n        {\n          title: \"Tags\",\n          items: tagsGroups,\n        },\n      ]\n    : [];\n};\n","import { Box } from \"@primer/components\";\nimport React from \"react\";\nimport { HEADER_HEIGHT } from \"./header\";\nimport NavItems from \"./nav-items\";\n\nfunction usePersistentScroll(id) {\n  const ref = React.useRef();\n\n  const handleScroll = React.useCallback(\n    // Save scroll position in session storage on every scroll change\n    (event) => window.sessionStorage.setItem(id, event.target.scrollTop),\n    [id]\n  );\n\n  React.useEffect(() => {\n    // Restore scroll position when component mounts\n    const scrollPosition = window.sessionStorage.getItem(id);\n    if (scrollPosition && ref.current) {\n      ref.current.scrollTop = scrollPosition;\n    }\n  }, [id]);\n\n  // Return props to spread onto the scroll container\n  return {\n    ref,\n    onScroll: handleScroll,\n  };\n}\n\nfunction Sidebar({ location, sidebarItems }) {\n  const scrollContainerProps = usePersistentScroll(\"sidebar\");\n\n  if (!(Array.isArray(sidebarItems) && sidebarItems.length > 0)) {\n    return null;\n  }\n  return (\n    <Box\n      display={[\"none\", null, null, \"block\"]}\n      position=\"sticky\"\n      top={HEADER_HEIGHT}\n      height={`calc(100vh - ${HEADER_HEIGHT}px)`}\n      minWidth={260}\n      maxWidth={360}\n      color=\"auto.gray.8\"\n      bg=\"auto.gray.0\"\n    >\n      <Box\n        borderStyle=\"solid\"\n        borderColor=\"border.primary\"\n        {...scrollContainerProps}\n        borderWidth={0}\n        borderRightWidth={1}\n        borderRadius={0}\n        height=\"100%\"\n        style={{ overflow: \"auto\" }}\n      >\n        <Box display=\"flex\" flexDirection=\"column\">\n          <NavItems location={location} items={sidebarItems} />\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n\nexport default Sidebar;\n","import { injectScript } from \"./src/utils\";\nvar Clarity = {\n  init: function init(projectId) {\n    injectScript(projectId, 'clarity-script');\n  },\n  setTag: function setTag(key, value) {\n    window.clarity('set', key, value);\n  },\n  identify: function identify(customerId, customSessionId, customPageId, friendlyName) {\n    window.clarity('identify', customerId, customSessionId, customPageId, friendlyName);\n  },\n  consent: function consent() {\n    var consent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    window.clarity('consent', consent);\n  },\n  upgrade: function upgrade(reason) {\n    window.clarity('upgrade', reason);\n  },\n  event: function event(eventName) {\n    window.clarity('event', eventName);\n  }\n};\nexport default Clarity;","export function injectScript(projectId) {\n  try {\n    (function (c, l, a, r, i, t, y) {\n      if (l.getElementById(\"clarity-script\")) {\n        return;\n      }\n\n      c[a] = c[a] || function () {\n        (c[a].q = c[a].q || []).push(arguments);\n      };\n\n      t = l.createElement(r);\n      t.async = 1;\n      t.src = \"https://www.clarity.ms/tag/\" + i + \"?ref=npm\";\n      t.id = \"clarity-script\";\n      y = l.getElementsByTagName(r)[0];\n      y.parentNode.insertBefore(t, y);\n    })(window, document, \"clarity\", \"script\", projectId);\n\n    return;\n  } catch (error) {\n    return;\n  }\n}\n;","import { Box } from \"@primer/components\";\nimport Header from \"gatsby-theme-primer-wiki/src/components/header\";\nimport Sidebar from \"gatsby-theme-primer-wiki/src/components/sidebar\";\nimport { getSidebarItems } from \"gatsby-theme-primer-wiki/src/utils/sidebar-items\";\nimport Clarity from '@microsoft/clarity';\nimport \"../styles/global.css\";\n\nif (process.env.NODE_ENV === 'production') {\n  const projectId = \"rhs71m1jem\";\n  Clarity.init(projectId);\n}\n\nfunction Layout({ children, location, pageContext }) {\n  const sidebarItems = pageContext.sidebarItems;\n  const tagsGroups = pageContext.tagsGroups;\n  const currentSlug = pageContext.slug;\n  const finalSidebarItems = getSidebarItems(sidebarItems, tagsGroups);\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      minHeight=\"100vh\"\n      bg=\"bg.primary\"\n      color=\"text.primary\"\n    >\n      <Header\n        currentSlug={currentSlug}\n        location={location}\n        sidebarItems={finalSidebarItems}\n        tagsGroups={tagsGroups}\n      />\n      <Box\n        display=\"flex\"\n        flex=\"1 1 auto\"\n        flexDirection=\"row\"\n        css={{ zIndex: 0 }}\n      >\n        <Sidebar location={location} sidebarItems={finalSidebarItems} />\n        <Box as=\"main\" flex=\"1\">\n          {children}\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n\nexport default Layout;\n"],"names":["nodes","shouldShowInstantView","forceMobile","themeConfig","useThemeConfig","posts","AnchorTag","props","references","filter","post","fields","slug","frontmatter","draft","map","href","title","shouldShowLastUpdated","lastUpdated","display","color","fontSize","lastUpdatedText","mb","mt","data","pageContext","location","pathPrefix","site","fullPath","urlJoin","siteUrl","siteMetadata","fullUrl","allMdx","sort","a","b","aDate","Date","lastUpdatedAt","getTime","firstPublistedAt","dateModified","length","gitCreatedAt","tag","palinBody","join","description","slice","postSeoData","frontmatterTitle","rawBody","excerpt","datePublished","category","imageUrl","imageAlt","url","tags","Box","py","px","getSidebarItems","sidebarItems","tagsGroups","items","id","ref","handleScroll","scrollContainerProps","React","event","window","sessionStorage","setItem","target","scrollTop","scrollPosition","getItem","current","onScroll","Array","isArray","position","top","HEADER_HEIGHT","height","minWidth","maxWidth","bg","borderStyle","borderColor","borderWidth","borderRightWidth","borderRadius","style","overflow","flexDirection","Clarity","init","projectId","c","l","document","r","i","getElementById","q","push","arguments","t","createElement","async","src","y","getElementsByTagName","parentNode","insertBefore","error","injectScript","setTag","key","value","clarity","identify","customerId","customSessionId","customPageId","friendlyName","consent","undefined","upgrade","reason","eventName","children","currentSlug","finalSidebarItems","minHeight","flex","as","zIndex"],"sourceRoot":""}